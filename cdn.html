<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- CDNé¢„è¿æ¥ä¼˜åŒ– -->
    <meta name="dns-prefetch" content="//cdn.jsdelivr.net">
    <meta name="dns-prefetch" content="//unpkg.com">
    <meta name="preconnect" content="//cdn.jsdelivr.net" crossorigin>
    <meta name="preconnect" content="//unpkg.com" crossorigin>
    <title>ç»™è€å©†çš„ç”Ÿæ—¥æƒŠå–œ</title>
    
    <!-- ä½¿ç”¨CDNåŠ é€ŸCSS -->
    <style>
        /* å†…è”å…³é”®CSSä»¥æé«˜é¦–å±åŠ è½½é€Ÿåº¦ */
        body { 
            margin: 0; 
            padding: 0; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffeaa7 0%, #ff9a9e 50%, #fecfef 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .loading { 
            text-align: center; 
            font-size: 2rem; 
            color: #ff6b9d; 
        }
        .loading-heart { 
            font-size: 3rem; 
            animation: pulse 1.5s infinite; 
        }
        @keyframes pulse { 
            0%, 100% { transform: scale(1); } 
            50% { transform: scale(1.1); } 
        }
    </style>
    
    <!-- å¼‚æ­¥åŠ è½½å®Œæ•´CSS -->
    <link rel="preload" href="mobile.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="mobile.css"></noscript>
</head>
<body>
    <div class="loading" id="loading">
        <div class="loading-heart">ğŸ’–</div>
        <p>æ­£åœ¨ä¸ºä½ å‡†å¤‡æƒŠå–œ...</p>
    </div>

    <!-- å¼‚æ­¥åŠ è½½å®Œæ•´å†…å®¹ -->
    <script>
        // æ£€æµ‹ç§»åŠ¨ç«¯
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        
        // åŠ è½½å®Œæ•´é¡µé¢å†…å®¹
        function loadFullContent() {
            fetch(isMobile ? 'mobile.html' : 'index.html')
                .then(response => response.text())
                .then(html => {
                    // æå–bodyå†…å®¹
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const bodyContent = doc.body.innerHTML;
                    
                    // æ›¿æ¢å½“å‰é¡µé¢å†…å®¹
                    document.body.innerHTML = bodyContent;
                    
                    // åŠ è½½å¯¹åº”çš„JavaScript
                    const script = document.createElement('script');
                    script.src = isMobile ? 'mobile.js' : 'script.js';
                    script.defer = true;
                    document.head.appendChild(script);
                })
                .catch(error => {
                    console.error('åŠ è½½å¤±è´¥:', error);
                    document.getElementById('loading').innerHTML = `
                        <div class="loading-heart">ğŸ˜”</div>
                        <p>åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•</p>
                        <button onclick="location.reload()" style="
                            background: #ff6b9d; 
                            color: white; 
                            border: none; 
                            padding: 10px 20px; 
                            border-radius: 20px; 
                            font-size: 16px; 
                            cursor: pointer;
                            margin-top: 20px;
                        ">åˆ·æ–°é¡µé¢</button>
                    `;
                });
        }

        // å»¶è¿ŸåŠ è½½ä»¥æ˜¾ç¤ºloadingåŠ¨ç”»
        setTimeout(loadFullContent, 1000);
    </script>
</body>
</html>
